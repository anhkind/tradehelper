webpackJsonp([1],{0:function(n,t){},1:function(n,t,e){n.exports=e("cDNt")},2:function(n,t){},3:function(n,t){},"8Sw2":function(n,t,e){function o(n){return e(r(n))}function r(n){var t=i[n];if(!(t+1))throw new Error("Cannot find module '"+n+"'.");return t}var i={"./af":"FQor","./af.js":"FQor","./ar":"EcI0","./ar-dz":"cw72","./ar-dz.js":"cw72","./ar-kw":"fu+8","./ar-kw.js":"fu+8","./ar-ly":"7CVz","./ar-ly.js":"7CVz","./ar-ma":"1dFW","./ar-ma.js":"1dFW","./ar-sa":"UxV2","./ar-sa.js":"UxV2","./ar-tn":"nm31","./ar-tn.js":"nm31","./ar.js":"EcI0","./az":"EbpX","./az.js":"EbpX","./be":"SQlX","./be.js":"SQlX","./bg":"R3V+","./bg.js":"R3V+","./bn":"cAX3","./bn.js":"cAX3","./bo":"dHgA","./bo.js":"dHgA","./br":"W7ww","./br.js":"W7ww","./bs":"lZ6K","./bs.js":"lZ6K","./ca":"udbC","./ca.js":"udbC","./cs":"oSQb","./cs.js":"oSQb","./cv":"yPEm","./cv.js":"yPEm","./cy":"PpYB","./cy.js":"PpYB","./da":"oiZG","./da.js":"oiZG","./de":"LYe6","./de-at":"KOG5","./de-at.js":"KOG5","./de-ch":"o3JY","./de-ch.js":"o3JY","./de.js":"LYe6","./dv":"OkYT","./dv.js":"OkYT","./el":"QFnp","./el.js":"QFnp","./en-au":"dBGl","./en-au.js":"dBGl","./en-ca":"vv0C","./en-ca.js":"vv0C","./en-gb":"IoCy","./en-gb.js":"IoCy","./en-ie":"qVAg","./en-ie.js":"qVAg","./en-nz":"FbT0","./en-nz.js":"FbT0","./eo":"y/6j","./eo.js":"y/6j","./es":"ivpd","./es-do":"DBbP","./es-do.js":"DBbP","./es.js":"ivpd","./et":"FrUj","./et.js":"FrUj","./eu":"LAVD","./eu.js":"LAVD","./fa":"J2cK","./fa.js":"J2cK","./fi":"5FCP","./fi.js":"5FCP","./fo":"jIZb","./fo.js":"jIZb","./fr":"Lq8I","./fr-ca":"ICRA","./fr-ca.js":"ICRA","./fr-ch":"QWmo","./fr-ch.js":"QWmo","./fr.js":"Lq8I","./fy":"Fbnp","./fy.js":"Fbnp","./gd":"zhFu","./gd.js":"zhFu","./gl":"o10m","./gl.js":"o10m","./gom-latn":"UoXv","./gom-latn.js":"UoXv","./he":"gbvS","./he.js":"gbvS","./hi":"+UQz","./hi.js":"+UQz","./hr":"qGYH","./hr.js":"qGYH","./hu":"hGGh","./hu.js":"hGGh","./hy-am":"1AR5","./hy-am.js":"1AR5","./id":"Ie9h","./id.js":"Ie9h","./is":"piS+","./is.js":"piS+","./it":"5P9/","./it.js":"5P9/","./ja":"3cRe","./ja.js":"3cRe","./jv":"vwCJ","./jv.js":"vwCJ","./ka":"R7aq","./ka.js":"R7aq","./kk":"d8hV","./kk.js":"d8hV","./km":"nCdc","./km.js":"nCdc","./kn":"5K8n","./kn.js":"5K8n","./ko":"1jN3","./ko.js":"1jN3","./ky":"74/W","./ky.js":"74/W","./lb":"XAyT","./lb.js":"XAyT","./lo":"w/Mz","./lo.js":"w/Mz","./lt":"IetG","./lt.js":"IetG","./lv":"CRPd","./lv.js":"CRPd","./me":"1mee","./me.js":"1mee","./mi":"yRr3","./mi.js":"yRr3","./mk":"bfn1","./mk.js":"bfn1","./ml":"r1ky","./ml.js":"r1ky","./mr":"+K6p","./mr.js":"+K6p","./ms":"asMk","./ms-my":"IcWU","./ms-my.js":"IcWU","./ms.js":"asMk","./my":"Isng","./my.js":"Isng","./nb":"FjNp","./nb.js":"FjNp","./ne":"P9zQ","./ne.js":"P9zQ","./nl":"pejQ","./nl-be":"c3/i","./nl-be.js":"c3/i","./nl.js":"pejQ","./nn":"ALD8","./nn.js":"ALD8","./pa-in":"1YTd","./pa-in.js":"1YTd","./pl":"Gs99","./pl.js":"Gs99","./pt":"eunO","./pt-br":"uHKL","./pt-br.js":"uHKL","./pt.js":"eunO","./ro":"1FZw","./ro.js":"1FZw","./ru":"Cy48","./ru.js":"Cy48","./sd":"+28k","./sd.js":"+28k","./se":"EiHj","./se.js":"EiHj","./si":"77bI","./si.js":"77bI","./sk":"BgyH","./sk.js":"BgyH","./sl":"K7sG","./sl.js":"K7sG","./sq":"pwQJ","./sq.js":"pwQJ","./sr":"N0T2","./sr-cyrl":"9OoP","./sr-cyrl.js":"9OoP","./sr.js":"N0T2","./ss":"Mh9L","./ss.js":"Mh9L","./sv":"YZAt","./sv.js":"YZAt","./sw":"/7jV","./sw.js":"/7jV","./ta":"VKBt","./ta.js":"VKBt","./te":"TIcV","./te.js":"TIcV","./tet":"BlC1","./tet.js":"BlC1","./th":"Zi3L","./th.js":"Zi3L","./tl-ph":"D4Y9","./tl-ph.js":"D4Y9","./tlh":"muBP","./tlh.js":"muBP","./tr":"82s3","./tr.js":"82s3","./tzl":"vjXv","./tzl.js":"vjXv","./tzm":"Vhfe","./tzm-latn":"m0Pg","./tzm-latn.js":"m0Pg","./tzm.js":"Vhfe","./uk":"Y3Ex","./uk.js":"Y3Ex","./ur":"4DIg","./ur.js":"4DIg","./uz":"wDue","./uz-latn":"Li28","./uz-latn.js":"Li28","./uz.js":"wDue","./vi":"UbP6","./vi.js":"UbP6","./x-pseudo":"fQLM","./x-pseudo.js":"fQLM","./yo":"evMD","./yo.js":"evMD","./zh-cn":"DV5H","./zh-cn.js":"DV5H","./zh-hk":"iEKH","./zh-hk.js":"iEKH","./zh-tw":"X9uL","./zh-tw.js":"X9uL"};o.keys=function(){return Object.keys(i)},o.resolve=r,n.exports=o,o.id="8Sw2"},cDNt:function(n,t,e){"use strict";function o(n){return s["\u0275vid"](0,[s["\u0275ncd"](null,0),(n()(),s["\u0275and"](0,null,null,0))],null,null)}function r(n){return s["\u0275vid"](0,[(n()(),s["\u0275eld"](0,null,null,1,"div",[["class","file-import__file-name"]],null,null,null,null,null)),(n()(),s["\u0275ted"](null,["Selected: ",""]))],null,function(n,t){n(t,1,0,t.component.file.name)})}function i(n){return s["\u0275vid"](0,[s["\u0275qud"](402653184,1,{button:0}),s["\u0275qud"](402653184,2,{fileInput:0}),(n()(),s["\u0275eld"](16777216,[[1,3],["button",1]],null,10,"div",[["class","file-import__drop"],["ng2FileDrop",""]],null,[[null,"fileOver"],[null,"click"],[null,"drop"],[null,"dragover"],[null,"dragleave"]],function(n,t,e){var o=!0,r=n.component;if("drop"===t){o=!1!==s["\u0275nov"](n,5).onDrop(e)&&o}if("dragover"===t){o=!1!==s["\u0275nov"](n,5).onDragOver(e)&&o}if("dragleave"===t){o=!1!==s["\u0275nov"](n,5).onDragLeave(e)&&o}if("fileOver"===t){o=!1!==r.onDroppingFile(e)&&o}if("click"===t){o=!1!==r.select()&&o}return o},null,null)),s["\u0275did"](278528,null,0,on.NgClass,[s.IterableDiffers,s.KeyValueDiffers,s.ElementRef,s.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s["\u0275pod"]({"file-import__dropping":0,"file-import__dropped":1}),s["\u0275did"](16384,null,0,rn.FileDropDirective,[s.ElementRef],{uploader:[0,"uploader"]},{fileOver:"fileOver"}),(n()(),s["\u0275ted"](null,["\n  "])),(n()(),s["\u0275and"](16777216,null,null,1,null,o)),s["\u0275did"](16384,null,0,on.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["\u0275ted"](null,["\n  "])),(n()(),s["\u0275and"](16777216,null,null,1,null,r)),s["\u0275did"](16384,null,0,on.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["\u0275ted"](null,["\n"])),(n()(),s["\u0275ted"](null,["\n"])),(n()(),s["\u0275eld"](16777216,[[2,3],["fileInput",1]],null,1,"input",[["class","file-import__file"],["ng2FileSelect",""],["type","file"]],null,[[null,"change"]],function(n,t,e){var o=!0;if("change"===t){o=!1!==s["\u0275nov"](n,15).onChange()&&o}return o},null,null)),s["\u0275did"](16384,null,0,ln.FileSelectDirective,[s.ElementRef],{uploader:[0,"uploader"]},null),(n()(),s["\u0275ted"](null,["\n"]))],function(n,t){var e=t.component;n(t,3,0,"file-import__drop",n(t,4,0,e.isDroppingFile,e.file)),n(t,5,0,e.uploader),n(t,8,0,!e.file||e.isDroppingFile),n(t,11,0,e.file&&!e.isDroppingFile),n(t,15,0,e.uploader)},null)}function l(n){return s["\u0275vid"](0,[(n()(),s["\u0275eld"](0,null,null,1,"file-import",[],null,null,null,i,an)),s["\u0275did"](114688,null,0,en,[],null,null)],function(n,t){n(t,1,0)},null)}function u(n){return s["\u0275vid"](0,[(n()(),s["\u0275eld"](0,null,null,21,"div",[["class","container"]],null,null,null,null,null)),(n()(),s["\u0275ted"](null,["\n  "])),(n()(),s["\u0275eld"](0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),s["\u0275ted"](null,["\n    "])),(n()(),s["\u0275eld"](16777216,null,null,8,"input",[["class","form-control"],["name","date"],["ngbDatepicker",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keyup.esc"]],function(n,t,e){var o=!0,r=n.component;if("input"===t){o=!1!==s["\u0275nov"](n,5)._handleInput(e.target.value)&&o}if("blur"===t){o=!1!==s["\u0275nov"](n,5).onTouched()&&o}if("compositionstart"===t){o=!1!==s["\u0275nov"](n,5)._compositionStart()&&o}if("compositionend"===t){o=!1!==s["\u0275nov"](n,5)._compositionEnd(e.target.value)&&o}if("input"===t){o=!1!==s["\u0275nov"](n,7).manualDateChange(e.target.value)&&o}if("change"===t){o=!1!==s["\u0275nov"](n,7).manualDateChange(e.target.value,!0)&&o}if("keyup.esc"===t){o=!1!==s["\u0275nov"](n,7).close()&&o}if("blur"===t){o=!1!==s["\u0275nov"](n,7).onBlur()&&o}if("ngModelChange"===t){o=!1!==(r.date=e)&&o}if("click"===t){o=!1!==s["\u0275nov"](n,7).toggle()&&o}return o},null,null)),s["\u0275did"](16384,null,0,G.b,[s.Renderer2,s.ElementRef,[2,G.a]],null,null),s["\u0275prd"](512,null,X.a,X.a,[W.a]),s["\u0275did"](671744,[["d",4]],0,J.a,[$.b,s.ElementRef,s.ViewContainerRef,s.Renderer2,s.ComponentFactoryResolver,s.NgZone,X.a,W.a],null,null),s["\u0275prd"](1024,null,G.d,function(n){return[n]},[J.a]),s["\u0275prd"](1024,null,G.e,function(n,t){return[n,t]},[G.b,J.a]),s["\u0275did"](671744,null,0,G.h,[[8,null],[2,G.d],[8,null],[2,G.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s["\u0275prd"](2048,null,G.f,null,[G.h]),s["\u0275did"](16384,null,0,G.g,[G.f],null,null),(n()(),s["\u0275ted"](null,["\n  "])),(n()(),s["\u0275ted"](null,["\n\n  "])),(n()(),s["\u0275eld"](0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),s["\u0275ted"](null,["\n    "])),(n()(),s["\u0275eld"](0,null,null,2,"file-import",[],null,[[null,"imported"]],function(n,t,e){var o=!0,r=n.component;if("imported"===t){o=!1!==r.import(e,r.date)&&o}return o},i,an)),s["\u0275did"](114688,null,0,en,[],null,{imported:"imported"}),(n()(),s["\u0275ted"](0,["Click OR drag and drop a file here"])),(n()(),s["\u0275ted"](null,["\n  "])),(n()(),s["\u0275ted"](null,["\n"])),(n()(),s["\u0275ted"](null,["\n"]))],function(n,t){n(t,10,0,"date",t.component.date),n(t,18,0)},function(n,t){n(t,4,0,s["\u0275nov"](t,12).ngClassUntouched,s["\u0275nov"](t,12).ngClassTouched,s["\u0275nov"](t,12).ngClassPristine,s["\u0275nov"](t,12).ngClassDirty,s["\u0275nov"](t,12).ngClassValid,s["\u0275nov"](t,12).ngClassInvalid,s["\u0275nov"](t,12).ngClassPending)})}function a(n){return s["\u0275vid"](0,[(n()(),s["\u0275eld"](0,null,null,1,"ng-component",[],null,null,null,u,cn)),s["\u0275did"](114688,null,0,Z,[N,P],null,null)],function(n,t){n(t,1,0)},null)}function p(n){return s["\u0275vid"](0,[(n()(),s["\u0275eld"](16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),s["\u0275did"](212992,null,0,fn.m,[fn.b,s.ViewContainerRef,s.ComponentFactoryResolver,[8,null],s.ChangeDetectorRef],null,null)],function(n,t){n(t,1,0)},null)}function c(n){return s["\u0275vid"](0,[(n()(),s["\u0275eld"](0,null,null,1,"app-root",[],null,null,null,p,vn)),s["\u0275did"](49152,null,0,m,[],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var s=e("/oeL"),d={production:!0},f=function(){function n(){}return n}(),m=function(){function n(){}return n}(),v=e("CVNG"),y=e("ClIn"),h=e("CU81"),g=e("IkMs"),j=e("DlWC"),b=e("m0eP"),w=e("MsHi"),_=[""],C=e("ge1L"),O=e("NwkV"),D=(e("5v8a"),e("RpuY"),e("eqpX"),e("bKpL")),k=e("xrDH"),I=e("d4uK"),E=function(){function n(){}return n.prototype.parse=function(n,t){return void 0===t&&(t={}),I.parse(k.trim(n),t).data},n.prototype.unparse=function(n,t){return void 0===t&&(t={}),I.unparse(n,t)},n.ctorParameters=function(){return[]},n}(),M=e("bbdN"),P=function(){function n(){}return n.prototype.read=function(n){var t=new FileReader;return D.Observable.create(function(e){t.onload=function(n){e.next(n.target.result)},/text/.test(n.type)?t.readAsText(n):t.readAsBinaryString(n)})},n.prototype.download=function(n,t){M.saveAs(n,t)},n.ctorParameters=function(){return[]},n}(),T=function(){function n(n){void 0===n&&(n={});for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t])}return n}(),A=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),R=function(n){function t(t){void 0===t&&(t={});var e=n.call(this,t)||this;return e.currency=e.currency||"USD",e.timezone=e.timezone||"America/New_York",e.convert(["price","quantity","commission"],"number"),e}return A(t,n),t.combine=function(n){var e=n.reduce(function(n,t){return n[t.id]=(n[t.id]||[]).concat([t]),n},{});return Object.keys(e).map(function(n){return new t(Object.assign({},e[n][0],{quantity:e[n].reduce(function(n,t){return n+t.quantity},0),commission:e[n].reduce(function(n,t){return n+t.commission},0)}))})},t.prototype.convert=function(n,t){var e=this;n.forEach(function(n){switch(t){case"number":e[n]=isNaN(e[n])?0:+e[n];break;case"string":e[n]=e[n]?""+e[n]:""}})},t}(T),z=function(){function n(){this.fileService=new P}return n.prototype.import=function(n,t){throw void 0===t&&(t={}),new Error("not implemented yet")},n.prototype.export=function(n,t){throw void 0===t&&(t={}),new Error("not implemented yet")},n.prototype.rowToTrade=function(n,t){return new R(Object.keys(t).reduce(function(e,o){return e[o]="function"==typeof t[o]?t[o](n):n[t[o]],e},{}))},n.prototype.tradeToRow=function(n,t){return Object.keys(t).reduce(function(e,o){return e[o]="function"==typeof t[o]?t[o](n):t[o]&&n[t[o]],e},{})},n}(),F=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),S=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.csvService=new E,t}return F(t,n),t.prototype.import=function(n,t){var e=this;return void 0===t&&(t={}),this.fileService.read(n).map(function(n){return e.csvService.parse(n,t.parser||{}).map(function(n){return e.rowToTrade(n,t.mapping)})})},t.prototype.export=function(n,t){var e=this;void 0===t&&(t={});var o=this.csvService.unparse(k.sortBy(n,"time").map(function(n){return e.tradeToRow(n,t.mapping)}),t.parser);return D.Observable.of(new Blob([o],{type:"text/csv"}))},t}(z),L=e("zMA8"),N=function(){function n(){}return n.prototype.convert=function(n,t){return void 0===t&&(t={}),n=L(n),t.timezone&&(n=n.tz(t.timezone)),n},n.prototype.retain=function(n,t){return L.tz(this.format(n,"YYYY-MM-DD HH:mm:ss"),t)},n.prototype.format=function(n,t,e){return void 0===t&&(t="YYYY-MM-DD"),void 0===e&&(e={}),this.convert(n,e).format(t)},n.prototype.convertET=function(n,t){return void 0===t&&(t={}),this.convert(n,Object.assign(this.getETOptions(),t))},n.prototype.formatET=function(n,t){return void 0===t&&(t="YYYY-MM-DD"),this.format(n,t,this.getETOptions())},n.prototype.retainET=function(n){return this.retain(n,this.getETOptions().timezone)},n.prototype.convertDateObject=function(n,t){return void 0===t&&(t={}),n=this.convert(n,t),{year:n.year(),month:n.month()+1,day:n.date()}},n.prototype.formatDateObject=function(n){return this.format(new Date(n.year,n.month-1,n.day),"YYYY-MM-DD")},n.prototype.getETOptions=function(){return{timezone:"America/New_York"}},n}(),x=function(){function n(n){void 0===n&&(n={}),this.options=n}return n.prototype.import=function(n,t){throw void 0===t&&(t={}),new Error("not implemented yet")},n.prototype.export=function(n,t){throw void 0===t&&(t={}),new Error("not implemented yet")},n}(),Y=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),V=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.converter=new S,t}return Y(t,n),t.prototype.import=function(n,t){var e=this;return void 0===t&&(t={}),this.converter.import(n,Object.assign({parser:{header:!0},mapping:this.getImportMapping()},t)).map(function(n){return e.fixTrades(n)})},t.prototype.getImportMapping=function(){return{id:"Cloid",time:function(n){return n.Time},symbol:"Symb",price:"Price",quantity:"Qty",route:"Route",broker:"Broker",account:"Account",type:function(n){return"B"===n.Side?"long":"short"}}},t.prototype.fixTrades=function(n){var t=new N,e=this.options.date||t.formatET(new Date);return n.map(function(n){var o=t.retain(e+" "+n.time,n.timezone);return n.id="AUTO"===n.id?o.format("YYYYMMDDHHmmss"):n.id,n.time=o.format(),n.commission=.005*Math.max(n.quantity,200),n})},t}(x),B=(e("/zHi"),e("nAVZ")),H=function(){function n(){this.fileService=new P}return n.prototype.load=function(n,t){var e=this;return void 0===t&&(t={}),D.Observable.create(function(o){var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="blob",r.onload=function(n){e.read(r.response,t).subscribe(function(n){return o.next(n)})},r.send()})},n.prototype.read=function(n,t){return void 0===t&&(t={}),this.fileService.read(n).map(function(n){return B.read(n,Object.assign({type:"binary"},t))})},n.prototype.write=function(n,t){void 0===t&&(t={});var e=B.write(n,Object.assign({type:"binary"},t));return new Blob([this.stringToArrayBuffer(e)],{type:"application/octet-stream"})},n.prototype.stringToArrayBuffer=function(n){for(var t=new ArrayBuffer(n.length),e=new Uint8Array(t),o=0;o!==n.length;++o)e[o]=255&n.charCodeAt(o);return t},n.ctorParameters=function(){return[]},n}(),q=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),U=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.spreadsheetService=new H,t}return q(t,n),t.prototype.export=function(n,t){var e=this;return void 0===t&&(t={}),this.spreadsheetService.load(t.url).map(function(o){for(var r=o.Sheets[t.sheetName],i=t.startCell||{c:0,r:0},l=k.sortBy(n,"time").map(function(n){return e.tradeToRow(n,t.mapping)}),u=Object.keys(t.mapping),a=0,p=l.map(function(n,t){return{rowData:n,row:t}});a<p.length;a++)for(var c=p[a],s=c.rowData,d=c.row,f=0,m=u.map(function(n,t){return{columnName:n,column:t}});f<m.length;f++){var v=m[f],y=v.columnName,h=v.column;r[B.utils.encode_cell({r:i.r+d,c:i.c+h})]={v:s[y]||""}}return e.spreadsheetService.write(o)})},t}(z),K=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Q=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.converter=new U,t}return K(t,n),t.prototype.export=function(n,t){return void 0===t&&(t={}),this.converter.export(this.fixTrades(n),Object.assign({url:"/assets/files/tradebench-template.xlsx",sheetName:"Trades",startCell:{c:0,r:2},mapping:this.getExportMapping()},t))},t.prototype.getExportMapping=function(){var n={};return{TradeNumber:"id",Symbol:"symbol",SymbolLongName:null,Direction:function(t){var e=t.account+"-"+t.symbol,o=n[e]=n[e]||0,r=n[e]=o+t.quantity*("long"===t.type?1:-1);return r>0?o>r?"ExitLong":"EntryLong":r<0?o>r?"EntryShort":"ExitShort":o>r?"ExitLong":"ExitShort"},Date:function(n){return L(n.time).tz(n.timezone).format("YYYY.MM.DD")},Time:function(n){return L(n.time).tz(n.timezone).format("HH.mm.ss")},Quantity:"quantity",Price:"price",Commission:"commission",Notes:null}},t.prototype.fixTrades=function(n){for(var t=[],e={},o=0,r=k.sortBy(n,"time");o<r.length;o++){var i=r[o],l=i.account+"-"+i.symbol,u=e[l]=e[l]||0,a=e[l]=u+i.quantity*("long"===i.type?1:-1);t=a*u<0?t.concat([new R(Object.assign({},i,{quantity:Math.abs(u),commission:1*Math.abs(u)/i.quantity*i.commission})),new R(Object.assign({},i,{quantity:Math.abs(a),commission:1*Math.abs(a)/i.quantity*i.commission}))]):t.concat([i])}return t},t}(x),Z=function(){function n(n,t){this.dateService=n,this.fileService=t}return n.prototype.ngOnInit=function(){this.date=this.dateService.convertDateObject(new Date,this.dateService.getETOptions())},n.prototype.import=function(n,t){var e=this,o=n.name.match(/[0-9]{4}.?[0-9]{2}.?[0-9]{2}/)[0],r=C(o).isValid()?this.dateService.format(o):this.dateService.formatDateObject(t);this.convertFile(n,r,"-tradebench").do(function(n){return e.fileService.download(n)}).subscribe()},n.prototype.convertFile=function(n,t,e){var o=new V({date:t}),r=new Q;return o.import(n).flatMap(function(t){return r.export(t).map(function(t){var o=O(n.name);return new File([t],""+o.name+e+".xlsx")})})},n.ctorParameters=function(){return[{type:N},{type:P}]},n}(),G=e("bm2B"),X=e("/6Tg"),W=e("KSV9"),J=e("bAfU"),$=e("lA7/"),nn=[".file-import__drop[_ngcontent-%COMP%]{border:2px dashed #ccc;color:#aaa;text-align:center;padding:20px;cursor:pointer}.file-import__file[_ngcontent-%COMP%]{display:none}.file-import__dropping[_ngcontent-%COMP%]{border:2px dashed #9db8e4!important;background-color:#edf2fa!important;color:#888!important}.file-import__dropped[_ngcontent-%COMP%]{font-weight:700;color:#888}"],tn=e("oKOW"),en=function(){function n(){this.imported=new s.EventEmitter}return n.prototype.ngOnInit=function(){var n=this;this.uploader=new tn.FileUploader({}),this.uploader.onAfterAddingFile=function(t){n.file=t._file,n.imported.emit(n.file)}},n.prototype.select=function(){this.fileInput.element.nativeElement.click()},n.prototype.onDroppingFile=function(n){this.isDroppingFile=n},n.ctorParameters=function(){return[]},n}(),on=e("qbdv"),rn=e("hxWQ"),ln=e("X68L"),un=[nn],an=s["\u0275crt"]({encapsulation:0,styles:un,data:{}}),pn=(s["\u0275ccf"]("file-import",en,l,{},{imported:"imported"},["*"]),[_]),cn=s["\u0275crt"]({encapsulation:0,styles:pn,data:{}}),sn=s["\u0275ccf"]("ng-component",Z,a,{},{},[]),dn=[""],fn=e("BkNc"),mn=[dn],vn=s["\u0275crt"]({encapsulation:0,styles:mn,data:{}}),yn=s["\u0275ccf"]("app-root",m,c,{},{},[]),hn=e("fc+i"),gn=e("KRwK"),jn=e("dN2u"),bn=e("nVXb"),wn=e("Wv1e"),_n=e("QGDq"),Cn=e("0H8/"),On=e("5FV4"),Dn=e("f1rf"),kn=e("CuDZ"),In=e("HRzg"),En=e("Qyse"),Mn=e("NmeZ"),Pn=e("7zUS"),Tn=e("59zy"),An=e("+E40"),Rn=e("V6Dl"),zn=e("wnyu"),Fn=e("tzcA"),Sn=e("PY9B"),Ln=e("3rU7"),Nn=e("4HaF"),xn=e("DaIH"),Yn=e("Zz+K"),Vn=e("2waW"),Bn=e("IBeK"),Hn=e("g5gQ"),qn=e("xBEz"),Un=e("PuIS"),Kn=e("U0Tu"),Qn=e("Cb36"),Zn=e("5h8W"),Gn=e("6ade"),Xn=e("0WLp"),Wn=e("Hw/e"),Jn=function(){function n(){}return n}(),$n=function(){function n(){}return n}(),nt=function(){function n(){}return n}(),tt=function(){function n(){}return n}(),et=function(){function n(){}return n}(),ot=s["\u0275cmf"](f,[m],function(n){return s["\u0275mod"]([s["\u0275mpd"](512,s.ComponentFactoryResolver,s["\u0275CodegenComponentFactoryResolver"],[[8,[v.a,y.a,h.a,g.a,j.a,b.a,w.a,sn,yn]],[3,s.ComponentFactoryResolver],s.NgModuleRef]),s["\u0275mpd"](5120,s.LOCALE_ID,s["\u0275m"],[[3,s.LOCALE_ID]]),s["\u0275mpd"](4608,on.NgLocalization,on.NgLocaleLocalization,[s.LOCALE_ID]),s["\u0275mpd"](5120,s.APP_ID,s["\u0275f"],[]),s["\u0275mpd"](5120,s.IterableDiffers,s["\u0275k"],[]),s["\u0275mpd"](5120,s.KeyValueDiffers,s["\u0275l"],[]),s["\u0275mpd"](4608,hn.b,hn.s,[on.DOCUMENT]),s["\u0275mpd"](6144,s.Sanitizer,null,[hn.b]),s["\u0275mpd"](4608,hn.e,hn.f,[]),s["\u0275mpd"](5120,hn.c,function(n,t,e,o){return[new hn.k(n),new hn.o(t),new hn.n(e,o)]},[on.DOCUMENT,on.DOCUMENT,on.DOCUMENT,hn.e]),s["\u0275mpd"](4608,hn.d,hn.d,[hn.c,s.NgZone]),s["\u0275mpd"](135680,hn.m,hn.m,[on.DOCUMENT]),s["\u0275mpd"](4608,hn.l,hn.l,[hn.d,hn.m]),s["\u0275mpd"](6144,s.RendererFactory2,null,[hn.l]),s["\u0275mpd"](6144,hn.p,null,[hn.m]),s["\u0275mpd"](4608,s.Testability,s.Testability,[s.NgZone]),s["\u0275mpd"](4608,hn.g,hn.g,[on.DOCUMENT]),s["\u0275mpd"](4608,hn.i,hn.i,[on.DOCUMENT]),s["\u0275mpd"](4608,G.k,G.k,[]),s["\u0275mpd"](4608,gn.a,gn.a,[s.ApplicationRef,s.Injector,s.ComponentFactoryResolver]),s["\u0275mpd"](4608,jn.a,jn.a,[s.ComponentFactoryResolver,s.Injector,gn.a]),s["\u0275mpd"](4608,bn.a,bn.a,[]),s["\u0275mpd"](4608,wn.a,wn.a,[]),s["\u0275mpd"](4608,_n.a,_n.a,[]),s["\u0275mpd"](4608,Cn.a,Cn.a,[]),s["\u0275mpd"](4608,On.a,On.a,[]),s["\u0275mpd"](4608,Dn.a,Dn.a,[]),s["\u0275mpd"](4608,W.a,W.b,[]),s["\u0275mpd"](4608,kn.a,kn.b,[]),s["\u0275mpd"](4608,$.b,$.a,[]),s["\u0275mpd"](4608,In.a,In.a,[]),s["\u0275mpd"](4608,En.a,En.a,[]),s["\u0275mpd"](4608,Mn.a,Mn.a,[]),s["\u0275mpd"](4608,Pn.a,Pn.a,[]),s["\u0275mpd"](4608,Tn.a,Tn.a,[]),s["\u0275mpd"](4608,An.a,An.a,[]),s["\u0275mpd"](4608,Rn.a,Rn.a,[]),s["\u0275mpd"](4608,E,E,[]),s["\u0275mpd"](4608,N,N,[]),s["\u0275mpd"](4608,P,P,[]),s["\u0275mpd"](4608,H,H,[]),s["\u0275mpd"](5120,fn.a,fn.v,[fn.k]),s["\u0275mpd"](4608,fn.d,fn.d,[]),s["\u0275mpd"](6144,fn.f,null,[fn.d]),s["\u0275mpd"](135680,fn.n,fn.n,[fn.k,s.NgModuleFactoryLoader,s.Compiler,s.Injector,fn.f]),s["\u0275mpd"](4608,fn.e,fn.e,[]),s["\u0275mpd"](5120,fn.h,fn.y,[fn.w]),s["\u0275mpd"](5120,s.APP_BOOTSTRAP_LISTENER,function(n){return[n]},[fn.h]),s["\u0275mpd"](512,on.CommonModule,on.CommonModule,[]),s["\u0275mpd"](1024,s.ErrorHandler,hn.q,[]),s["\u0275mpd"](1024,s.NgProbeToken,function(){return[fn.r()]},[]),s["\u0275mpd"](512,fn.w,fn.w,[s.Injector]),s["\u0275mpd"](1024,s.APP_INITIALIZER,function(n,t,e){return[hn.r(n,t),fn.x(e)]},[[2,hn.h],[2,s.NgProbeToken],fn.w]),s["\u0275mpd"](512,s.ApplicationInitStatus,s.ApplicationInitStatus,[[2,s.APP_INITIALIZER]]),s["\u0275mpd"](131584,s["\u0275e"],s["\u0275e"],[s.NgZone,s["\u0275Console"],s.Injector,s.ErrorHandler,s.ComponentFactoryResolver,s.ApplicationInitStatus]),s["\u0275mpd"](2048,s.ApplicationRef,null,[s["\u0275e"]]),s["\u0275mpd"](512,s.ApplicationModule,s.ApplicationModule,[s.ApplicationRef]),s["\u0275mpd"](512,hn.a,hn.a,[[3,hn.a]]),s["\u0275mpd"](512,zn.a,zn.a,[]),s["\u0275mpd"](512,Fn.a,Fn.a,[]),s["\u0275mpd"](512,Sn.a,Sn.a,[]),s["\u0275mpd"](512,Ln.a,Ln.a,[]),s["\u0275mpd"](512,Nn.a,Nn.a,[]),s["\u0275mpd"](512,xn.a,xn.a,[]),s["\u0275mpd"](512,Yn.a,Yn.a,[]),s["\u0275mpd"](512,Vn.a,Vn.a,[]),s["\u0275mpd"](512,G.j,G.j,[]),s["\u0275mpd"](512,G.c,G.c,[]),s["\u0275mpd"](512,Bn.a,Bn.a,[]),s["\u0275mpd"](512,Hn.a,Hn.a,[]),s["\u0275mpd"](512,qn.a,qn.a,[]),s["\u0275mpd"](512,Un.a,Un.a,[]),s["\u0275mpd"](512,Kn.a,Kn.a,[]),s["\u0275mpd"](512,Qn.a,Qn.a,[]),s["\u0275mpd"](512,Zn.a,Zn.a,[]),s["\u0275mpd"](512,Gn.a,Gn.a,[]),s["\u0275mpd"](512,Xn.b,Xn.b,[]),s["\u0275mpd"](512,Wn.FileUploadModule,Wn.FileUploadModule,[]),s["\u0275mpd"](512,Jn,Jn,[]),s["\u0275mpd"](512,$n,$n,[]),s["\u0275mpd"](512,Xn.a,Xn.a,[]),s["\u0275mpd"](1024,fn.q,fn.t,[[3,fn.k]]),s["\u0275mpd"](512,fn.p,fn.c,[]),s["\u0275mpd"](512,fn.b,fn.b,[]),s["\u0275mpd"](256,fn.g,{},[]),s["\u0275mpd"](1024,on.LocationStrategy,fn.s,[on.PlatformLocation,[2,on.APP_BASE_HREF],fn.g]),s["\u0275mpd"](512,on.Location,on.Location,[on.LocationStrategy]),s["\u0275mpd"](512,s.Compiler,s.Compiler,[]),s["\u0275mpd"](512,s.NgModuleFactoryLoader,s.SystemJsNgModuleLoader,[s.Compiler,[2,s.SystemJsNgModuleLoaderConfig]]),s["\u0275mpd"](1024,fn.i,function(){return[[{path:"converters",component:Z}],[{path:"",redirectTo:"converters",pathMatch:"full"}]]},[]),s["\u0275mpd"](1024,fn.k,fn.u,[s.ApplicationRef,fn.p,fn.b,on.Location,s.Injector,s.NgModuleFactoryLoader,s.Compiler,fn.i,fn.g,[2,fn.o],[2,fn.j]]),s["\u0275mpd"](512,fn.l,fn.l,[[2,fn.q],[2,fn.k]]),s["\u0275mpd"](512,nt,nt,[]),s["\u0275mpd"](512,tt,tt,[]),s["\u0275mpd"](512,et,et,[]),s["\u0275mpd"](512,f,f,[])])});d.production&&Object(s.enableProdMode)(),Object(hn.j)().bootstrapModuleFactory(ot).catch(function(n){return console.log(n)})},gFIY:function(n,t){function e(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="gFIY"}},[1]);